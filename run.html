---
layout: markdown
title: Download &amp; Run
surrounding-div: csa-run
maven-central-link: http://search.maven.org/#search%7Cgav%7C1%7Cg%3Acom.thomasjensen.checkstyle.addons
bintray-link: https://bintray.com/checkstyle-addons/checkstyle-addons/checkstyle-addons/view
longContent: true
---

# Download &amp; Run

Here's how to use {{ site.name }} with your standard software.

{{ site.name }} is distributed via [Maven Central]({{ page.maven-central-link }}) and [Bintray jcenter]({{ page.bintray-link }}), so major build tools can automatically access it.

{{ site.name }} is compatible with all Checkstyle versions starting from 6.0. That is because Checkstyle 5.9 and earlier were based on Java&nbsp;5, which is no longer available on our continuous integration platform, Travis CI.

{{ site.name }} uses [semantic versioning](http://semver.org/){:target="_blank"}, so you can always use the latest within a major version, but you should try things out before moving to a higher major version.


<!-- ======================================================================================= -->
<a name="run-gradle" class="csa-offset-anchor"/>

## Gradle

{{ site.name }} is available on [Maven Central]({{ page.maven-central-link }}) and [jcenter]({{ page.bintray-link }}), so you can just use it in your Gradle build. In Gradle, {{ site.name }} runs as part of the [Gradle Checkstyle Plugin](https://gradle.org/docs/current/userguide/checkstyle_plugin.html){:target="_blank"}. The classpath is extended to include {{ site.name }}. Note that the Checkstyle tool version must be specified.

{% highlight groovy %}
plugins {
    id 'checkstyle'  // regular Checkstyle plugin
}
dependencies {
    checkstyle group: 'com.thomasjensen.checkstyle.addons', name: 'checkstyle-addons', version: '{{ site.latest_version }}'
}
checkstyle {
    configFile file('your-checkstyle.xml')
    toolVersion '{{ site.latest_version_checkstyle }}'   // important
}
{% endhighlight %}

For the `checkstyle-addons` dependency, you may also use the version notation `version: '{{ site.latest_major }}.+'` in order to always get the latest compatible version.

The example above has been tested with Checkstyle `toolVersion` set to 6.2 - {{ site.latest_checkstyle_tested }}. The older Checkstyle versions 6.0 - 6.1.1 are also supported, but if you set `toolVersion` to these, you must depend on `checkstyle-addons-java6` instead of `checkstyle-addons` (even if you use Java&nbsp;7 or higher).


<!-- ======================================================================================= -->
<a name="run-maven" class="csa-offset-anchor"/>

## Maven

{{ site.name }} is available on [Maven Central]({{ page.maven-central-link }}), so you can just use it in your Maven build. In Maven, {{ site.name }} runs as part of the [Maven Checkstyle Plugin](https://maven.apache.org/plugins/maven-checkstyle-plugin/){:target="_blank"}. The classpath is extended to include {{ site.name }}. Note that the explicit dependency on Checkstyle itself must also be specified in order to set the correct Checkstyle version.

{% highlight xml %}
<project>
  <!-- snip -->
  <properties>
    <!-- path to your checkstyle.xml, relative to the project root -->
    <checkstyle.config.location>your-checkstyle.xml</checkstyle.config.location>
  </properties>
  <!-- snip -->
  <plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-checkstyle-plugin</artifactId>
    <version>2.15</version>
    <dependencies>
      <dependency>
        <groupId>com.puppycrawl.tools</groupId>
        <artifactId>checkstyle</artifactId>
        <version>{{ site.latest_version_checkstyle }}</version>    <!-- important -->
      </dependency>
      <dependency>
        <groupId>com.thomasjensen.checkstyle.addons</groupId>
        <artifactId>checkstyle-addons</artifactId>
        <version>{{ site.latest_version }}</version>
      </dependency>
    </dependencies>
  </plugin>
</project>
{% endhighlight %}

The example above has been tested with the Checkstyle dependency set to 6.2 - {{ site.latest_checkstyle_tested }}. The older Checkstyle versions 6.0 - 6.1.1 are also supported, but if you use these, you must depend on `checkstyle-addons-java6` instead of `checkstyle-addons` (even if you use Java&nbsp;7 or higher).


<!-- ======================================================================================= -->
<a name="run-ant" class="csa-offset-anchor"/>

## Ant

In Ant, we must add {{ site.name }} to the classpath of the [Checkstyle Ant Task](http://checkstyle.sourceforge.net/anttask.html){:target="_blank"}. The Ant task is part of the standard Checkstyle distribution. We need **at least Checkstyle 6.2** (currently tested up to {{ site.latest_checkstyle_tested }}). And of course the {{ site.name }} jar file:

<p><a href="https://github.com/{{ site.github }}/releases/download/v{{ site.latest_version }}/checkstyle-addons-{{ site.latest_version }}.jar" class="btn btn-primary">Download JAR</a></p>

Then, in our Ant *build.xml*, we declare the Checkstyle task as follows:

{% highlight xml %}
<taskdef resource="checkstyletask.properties">
    <classpath>
        <pathelement location="lib/checkstyle-{{ site.latest_version_checkstyle }}-all.jar"/>
        <pathelement location="lib/checkstyle-addons-{{ site.latest_version }}.jar"/>
    </classpath>
</taskdef>
{% endhighlight %}

The *checkstyletask.properties* is read from checkstyle-{{ site.latest_version_checkstyle }}-all.jar. The call to the Checkstyle task is standard Ant:

{% highlight xml %}
<checkstyle config="/path/to/your-checkstyle.xml">
    <fileset dir="src" includes="**/*.java"/>

    <!-- Where in your build folder to store the cache file used during build for faster analysis -->
    <property key="checkstyle.cache.file" file="target/cachefile"/>
</checkstyle>
{% endhighlight %}

For more information on Checkstyle Ant task configuration, please refer to its [website](http://checkstyle.sourceforge.net/anttask.html){:target="_blank"}.

If you use Ivy for dependency management in Ant, you can take advantage of the fact that {{ site.name }} is on Maven Central.


<!-- ======================================================================================= -->
<a name="run-intellij" class="csa-offset-anchor"/>

## IntelliJ IDEA / Android Studio

In IntelliJ IDEA or Android Studio, {{ site.name }} runs as a third-party addon to the [Checkstyle-IDEA plugin](https://plugins.jetbrains.com/plugin/1065){:target="_blank"}. So first make sure you've got Checkstyle-IDEA. If not, install via *File &rarr; Settings... &rarr; Plugins &rarr; Browse Repostories*.

<p><a href="https://github.com/{{ site.github }}/releases/download/v{{ site.latest_version }}/checkstyle-addons-{{ site.latest_version }}.jar" class="btn btn-primary">Download Plugin</a></p>

 After that, you can add {{ site.name }} to the third-party checks:

<div class="csa-largeImageWrapper">
<img src="{{ site.baseurl }}/images/run-intellij.png" alt="{{ site.name }} in IntelliJ IDEA" width="740" height="501" />
</div>

Checkstyle-IDEA does not offer a visual editor, so you'll have to activate the {{ site.name }} checks by modifying your *checkstyle.xml* directly.

The {{ site.name }} version offered by the above download button is compatible with Checkstyle 6.2 - {{ site.latest_checkstyle_tested }} (which means Checkstyle-IDEA 4.14.0 and up). If you are using the older Checkstyle versions 6.0 - 6.1.1, you must use a special, compatible version of {{ site.name }} instead:

<p><a href="https://github.com/{{ site.github }}/releases/download/v{{ site.latest_version }}/checkstyle-addons-java6-{{ site.latest_version }}.jar" class="btn btn-warning btn-sm">Download Legacy Plugin</a></p>


<!-- ======================================================================================= -->
<a name="run-eclipse" class="csa-offset-anchor"/>

## Eclipse

In Eclipse, {{ site.name }} runs as an addon to [Eclipse-CS](http://eclipse-cs.sourceforge.net/){:target="_blank"}. So first make sure you've got Eclipse-CS [installed](http://eclipse-cs.sourceforge.net/#!/install){:target="_blank"} at **version 6.2 or higher**. Then:

<p><a href="https://github.com/{{ site.github }}/releases/download/v{{ site.latest_version }}/checkstyle-addons-eclipse-{{ site.latest_version }}.jar" class="btn btn-primary">Download Eclipse Plugin</a></p>

**Installation:** Drop the downloaded plugin JAR into the *dropins* folder of your Eclipse installation and restart Eclipse.

In order to verify that {{ site.name }} was installed correctly, open the Checkstyle configuration dialog and you should see a new module category named '{{ site.name }}'. {{ site.name }} fully supports the visual Checkstyle configuration editor of Eclipse-CS:

<div class="csa-largeImageWrapper">
<img src="{{ site.baseurl }}/images/run-eclipse.png" alt="{{ site.name }} in Eclipse" width="549" height="368" />
</div>


<!-- ======================================================================================= -->
<a name="run-sonarqube" class="csa-offset-anchor"/>

## SonarQube

In [SonarQube](http://www.sonarqube.org/){:target="_blank"}, {{ site.name }} runs as an extension of the SonarQube Checkstyle Plugin. {{ site.name }} currently supports the SonarQube Checkstyle Plugin versions 2.2 (<span style="color: #ffbc68;">orange column</span>) and 2.3 (<span style="color: #75ccf7;">blue column</span>). Make sure your SonarQube installation is configured accordingly:

<div class="csa-largeImageWrapper">
<table class="table table-striped csa-version-table" style="width:auto;">
  <tbody>
    <tr>
      <td><a href="http://docs.sonarqube.org/display/PLUG/Checkstyle+Plugin" target="_blank">SonarQube Checkstyle Plugin</a></td>
      <td>2.0</td>
      <td>2.1</td>
      <td>2.1.1</td>
      <td class="orange"><b>2.2</b></td>
      <td class="info"><b>2.3</b></td>
    </tr>
    <tr>
      <td><a href="http://docs.sonarqube.org/display/SONAR/Upgrading#Upgrading-ReleaseUpgradeNotes" target="_blank">SonarQube Platform</a></td>
      <td>3.6 - 4.1.2</td>
      <td colspan="3" class="orange" style="text-align:center;">4.2 - 4.4</td>
      <td class="info">4.5.2+</td>
    </tr>
    <tr>
      <td><a href="http://checkstyle.sourceforge.net/releasenotes.html" target="_blank">Checkstyle</a> (by plugin)</td>
      <td>5.6</td>
      <td>5.6</td>
      <td>5.6</td>
      <td class="orange">6.1</td>
      <td class="info">6.4.1</td>
    </tr>
    <tr>
      <td>Java (analysis process)</td>
      <td>6+</td>
      <td>6+</td>
      <td>6+</td>
      <td class="orange">6+</td>
      <td class="info">7+</td>
    </tr>
    <tr>
      <td>Java (code analyzed)</td>
      <td>&lt;= 7</td>
      <td>&lt;= 7</td>
      <td>&lt;= 7</td>
      <td class="orange">&lt;= 8</td>
      <td class="info">&lt;= 8</td>
    </tr>
  </tbody>
</table>
</div>

The Checkstyle version is directly determined by the version of the SonarQube Checkstyle plugin, so you don't need to check that explicitly. SonarQube 3.6 is the earliest version on which {{ site.name }} could possibly run, even if you built from source.

The rules provided by {{ site.name }} are tagged with `checkstyle-addons`, which is useful to filter them from the overall list of Checkstyle rules.

<p><a href="https://github.com/{{ site.github }}/releases/download/v{{ site.latest_version }}/sonar-checkstyleaddons-{{ site.latest_version }}.jar" class="btn btn-primary">Download SonarQube Plugin for 2.3</a> &nbsp; &nbsp; &nbsp;
<a href="https://github.com/{{ site.github }}/releases/download/v{{ site.latest_version }}/sonar-checkstyleaddons-{{ site.latest_version }}-csp2.2.jar" class="btn btn-warning btn-sm">Download SonarQube Plugin for 2.2</a></p>

**Installation:** Drop the downloaded plugin into the *extensions/plugins* folder of your SonarQube installation (where all the other plugins are). Double-check the version of the SonarQube Checkstyle plugin according to the above table. Upgrade that if necessary. Restart SonarQube.


<!-- ======================================================================================= -->
<a name="run-command-line" class="csa-offset-anchor"/>

## Command Line

Checkstyle can also be run [from the command line](http://checkstyle.sourceforge.net/cmdline.html){:target="_blank"}. {{ site.name }} is included by simply adding it to the classpath.
If you are using at least Java&nbsp;7, and at least Checkstyle 6.2 (tested up to {{ site.latest_checkstyle_tested }}), you may use the regular JAR. If you are using Checkstyle 6.0 - 6.1.1, you must use the legacy JAR. The code you're analyzing can be anything up to Java&nbsp;8.

<p><a href="https://github.com/{{ site.github }}/releases/download/v{{ site.latest_version }}/checkstyle-addons-{{ site.latest_version }}.jar" class="btn btn-primary">Download regular JAR</a> &nbsp; &nbsp; &nbsp;
<a href="https://github.com/{{ site.github }}/releases/download/v{{ site.latest_version }}/checkstyle-addons-java6-{{ site.latest_version }}.jar" class="btn btn-warning btn-sm">Download legacy JAR</a></p>

Now you can run Checkstyle with {{ site.name }} like this (example for regular JAR):

```
java -cp checkstyle-addons-{{ site.latest_version }}.jar;checkstyle-{{ site.latest_version_checkstyle }}-all.jar com.puppycrawl.tools.checkstyle.Main -c your-checkstyle.xml src
```

The above assumes that your sources are in a subdirectory *src*, and that the required JARs and your configuration file are in the current directory.
